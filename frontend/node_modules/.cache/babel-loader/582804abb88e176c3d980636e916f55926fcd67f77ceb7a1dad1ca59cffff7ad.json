{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Tejasw\\\\Desktop\\\\project\\\\frontend\\\\src\\\\contexts\\\\AuthContext.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nexport const authReducer = function (state, action) {\n  switch (action.type.toLowerCase()) {\n    case 'login':\n      localStorage.removeItem(\"user\");\n      localStorage.setItem(\"user\", action.payload.token);\n      return state.user = action.payload.token;\n    case 'logout':\n      localStorage.removeItem(\"user\");\n      return state.user = null;\n    default:\n      return state.user = null;\n  }\n};\nexport const AuthContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [authState, authDispatch] = useReducer(authReducer, {\n    user: null\n  });\n  console.log(authState);\n  useEffect(function () {\n    const token = localStorage.getItem(\"user\");\n    if (token) authDispatch({\n      type: 'login',\n      payload: {\n        token\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      authState,\n      authDispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthContextProvider, \"hnYMInV4bPP6f3qV9jZegwl53O8=\");\n_c = AuthContextProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useReducer","jsxDEV","_jsxDEV","AuthContext","authReducer","state","action","type","toLowerCase","localStorage","removeItem","setItem","payload","token","user","AuthContextProvider","_ref","_s","children","authState","authDispatch","console","log","getItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Tejasw/Desktop/project/frontend/src/contexts/AuthContext.jsx"],"sourcesContent":["import { createContext, useEffect, useReducer } from \"react\" \r\n\r\nexport const AuthContext = createContext()\r\n\r\nexport const authReducer = function(state, action){\r\n    switch (action.type.toLowerCase()){\r\n        case 'login':\r\n            localStorage.removeItem(\"user\")\r\n            localStorage.setItem(\"user\", action.payload.token)\r\n            return state.user = action.payload.token;\r\n        case 'logout':\r\n            localStorage.removeItem(\"user\")\r\n            return state.user = null;\r\n        default:\r\n            return state.user=null;\r\n    }\r\n}\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const [authState, authDispatch] = useReducer(authReducer, {user:null})\r\n    console.log(authState)\r\n  useEffect(function(){\r\n    const token = localStorage.getItem(\"user\")\r\n    if(token)\r\n        authDispatch({type:'login', payload:{token}})\r\n  }, [])\r\n  return (\r\n    <AuthContext.Provider value={{authState, authDispatch}}>\r\n        {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE5D,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC;AAE1C,OAAO,MAAMM,WAAW,GAAG,SAAAA,CAASC,KAAK,EAAEC,MAAM,EAAC;EAC9C,QAAQA,MAAM,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC;IAC7B,KAAK,OAAO;MACRC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;MAC/BD,YAAY,CAACE,OAAO,CAAC,MAAM,EAAEL,MAAM,CAACM,OAAO,CAACC,KAAK,CAAC;MAClD,OAAOR,KAAK,CAACS,IAAI,GAAGR,MAAM,CAACM,OAAO,CAACC,KAAK;IAC5C,KAAK,QAAQ;MACTJ,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;MAC/B,OAAOL,KAAK,CAACS,IAAI,GAAG,IAAI;IAC5B;MACI,OAAOT,KAAK,CAACS,IAAI,GAAC,IAAI;EAC9B;AACJ,CAAC;AAED,OAAO,MAAMC,mBAAmB,GAAGC,IAAA,IAAgB;EAAAC,EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC,GAAAF,IAAA;EAC1C,MAAM,CAACG,SAAS,EAAEC,YAAY,CAAC,GAAGpB,UAAU,CAACI,WAAW,EAAE;IAACU,IAAI,EAAC;EAAI,CAAC,CAAC;EACtEO,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;EACxBpB,SAAS,CAAC,YAAU;IAClB,MAAMc,KAAK,GAAGJ,YAAY,CAACc,OAAO,CAAC,MAAM,CAAC;IAC1C,IAAGV,KAAK,EACJO,YAAY,CAAC;MAACb,IAAI,EAAC,OAAO;MAAEK,OAAO,EAAC;QAACC;MAAK;IAAC,CAAC,CAAC;EACnD,CAAC,EAAE,EAAE,CAAC;EACN,oBACEX,OAAA,CAACC,WAAW,CAACqB,QAAQ;IAACC,KAAK,EAAE;MAACN,SAAS;MAAEC;IAAY,CAAE;IAAAF,QAAA,EAClDA;EAAQ;IAAAQ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAE3B,CAAC;AAAAZ,EAAA,CAbYF,mBAAmB;AAAAe,EAAA,GAAnBf,mBAAmB;AAAA,IAAAe,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}